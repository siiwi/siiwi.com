<div id="content-container">
    <div id="page-content">
        <input id="input-dim-1" type="file" name="test_file_upload" multiple class="file-loading" />
    </div>
</div>
<link href="/assets/plugins/bootstrap-fileinput/css/fileinput.min.css" rel="stylesheet" />
<script src="/assets/plugins/bootstrap-fileinput/js/fileinput.min.js"></script>
<script src="/assets/plugins/bootstrap-fileinput/js/fileinput_locale_zh.js"></script>
<script type="text/javascript">
$(function(){
    $("#input-dim-1").fileinput({
        language: 'zh',
        uploadUrl: "<?php echo $url->link('common/upload');?>",
        allowedFileExtensions: ["jpg", "png", "gif"],
        allowedFileTypes: ["image"],
        showClose: false
    });

    $("#input-dim-1").on("filesuccessremove", function(e, i){

    });
})

</script>
<!-- <div id="content-container">
    <div id="page-content">
        <form class="dropzone" method='post' action="<?php echo $url->link('common/upload');?>" id="uploadFile" >
            <div class="dz-default dz-message"><span>点击上传图片</span></div>
        </form>
    </div>
</div>
<link href="/assets/plugins/dropzone/dropzone.css" rel="stylesheet" />
<script src="/assets/plugins/dropzone/dropzone.js"></script>
<script type="text/javascript">
Dropzone.options.uploadFile = {
    paramName: 'test_file_upload',
    addRemoveLinks: true,
    dictRemoveFile: '移除',
    maxFilesize: 1,
    init: function() {
        this.on("success", function(file, response) {
            var res = JSON.parse(response);
            var html = "<input type='hidden' name='images[]' id='img_"+file.lastModified+"' value='"+res.data+"'>";
            $("#page-content").append(html);
            console.log(res);
        });
        this.on("removedfile" ,function(file) {
            console.log(file);
        });
    }
};
</script> -->
